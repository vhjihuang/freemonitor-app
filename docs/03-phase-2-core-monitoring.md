# 阶段二：核心监控功能 [90%]

## 仪表盘 🟡

### ✅ 创建仪表盘布局组件

**状态**: 已完成

**描述**: 提供应用主界面框架

**实现逻辑**: 创建导航栏、侧边栏、页面标题和内容区域

**相关文件**: apps/frontend/src/app/dashboard

**验收标准**: 仪表盘布局正确显示，导航功能正常

### ✅ 实现状态概览卡片

**状态**: 已完成

**描述**: 显示设备状态关键指标

**实现逻辑**: 从后端获取数据 → 展示卡片 → 定期更新

**相关文件**: 
- apps/frontend/src/app/dashboard
- apps/frontend/src/components/dashboard/StatsOverview.tsx
- apps/backend/src/dashboard/dashboard.controller.ts

**验收标准**:
- 显示在线设备数、离线设备数、总设备数三个核心指标卡片
- 数据每 30 秒自动刷新
- 在线设备显示绿色图标，离线设备显示红色图标，数字清晰可见
- 支持手动刷新按钮，点击后立即更新数据
- 加载状态显示骨架屏，错误状态显示重试按钮
- 响应式设计：移动端卡片垂直排列，桌面端水平排列

### ✅ 添加实时数据图表

**状态**: 已完成

**描述**: 可视化设备指标数据

**实现逻辑**: 选择图表库 → 渲染图表 → 实现定时刷新

**相关文件**: 
- apps/frontend/src/components/dashboard/RealtimeDataChart.tsx
- apps/frontend/src/lib/api/deviceApi.ts
- apps/backend/src/devices/device.service.ts

**子任务**:
- 选择图表库（使用 Recharts）
- 实现轮询数据获取机制
- 提供时间范围选择功能

**验收标准**:
- 支持折线图、柱状图、面积图三种可视化类型
- 时间范围选择：最近1小时、6小时、24小时、7天、30天
- 数据刷新频率：根据时间范围自动调整（5秒到5分钟）
- 支持CPU、内存、磁盘三种指标切换显示
- 图表支持缩放、平移、数据点悬停显示详细信息
- 无数据时显示友好提示
- 响应时间 < 1秒，支持大量数据点流畅渲染

### ☐ 创建最近告警面板

**状态**: 未开始

**描述**: 显示最新告警信息

**实现逻辑**: 获取告警列表 → 显示状态 → 提供详情查看

**相关文件**: 
- apps/frontend/src/app/dashboard
- apps/backend/src/dashboard

**验收标准**:
- 显示最新 10 条告警，按时间倒序排列，包含分页导航
- 告警信息包含：设备名称、告警类型、严重程度、发生时间、状态
- 严重程度用颜色区分：Critical(红色)、Warning(橙色)、Info(蓝色)
- 点击告警行展开显示完整详情，包括告警描述和建议解决方案
- 支持按设备、类型、严重程度、时间范围进行过滤
- 空状态显示"暂无告警"图标和提示文字
- 响应时间 < 500ms，支持1000条告警数据快速过滤

### ☐ 实现数据刷新机制

**状态**: 未开始

**描述**: 优化数据刷新性能

**实现逻辑**: 设置定时器 → 提供手动刷新 → 优化请求频率

**相关文件**: apps/frontend/src/app/dashboard

**验收标准**: 数据每 5 秒刷新，手动刷新正常工作

## 设备管理 🔴

### ✅ 完善设备列表页面

**状态**: 已完成

**描述**: 显示设备信息并支持分页

**实现逻辑**: 获取设备列表 → 展示信息 → 支持分页和状态显示

**相关文件**: 
- apps/frontend/src/app/devices
- apps/backend/src/devices

**验收标准**:
- 每页显示 10 条设备记录，支持翻页导航
- 设备状态实时显示：在线（绿色）、离线（红色）、未知（灰色）
- 支持按设备名称、IP 地址、状态进行搜索过滤
- 分页响应时间 < 500ms，支持 1000+ 设备数据
- 表格列包含：名称、IP、状态、最后在线时间、操作按钮
- 空数据状态显示 "暂无设备" 提示和添加按钮

### ✅ 创建设备详情页面

**状态**: 已完成

**描述**: 显示设备详细信息和告警历史

**实现逻辑**: 根据 ID 获取信息 → 显示指标和告警

**相关文件**: apps/frontend/src/app/devices

**验收标准**: 显示设备详情、指标和告警历史

### ✅ 实现设备添加表单

**状态**: 已完成

**描述**: 创建新设备

**实现逻辑**: 用户填写信息 → 前端验证 → 调用创建接口

**相关文件**: apps/frontend/src/app/devices

**验收标准**: 成功添加设备，列表自动更新

### ✅ 添加设备编辑功能

**状态**: 已完成

**描述**: 编辑设备信息

**实现逻辑**: 显示当前信息 → 用户修改 → 调用更新接口

**相关文件**: apps/frontend/src/app/devices

**验收标准**: 成功编辑设备，显示更新结果

### ✅ 实现设备删除操作

**状态**: 已完成

**描述**: 删除设备并更新列表

**实现逻辑**: 显示确认对话框 → 调用删除接口 → 更新列表

**相关文件**: apps/frontend/src/app/devices

**验收标准**: 设备删除后列表更新，显示成功提示

### ✅ 添加设备搜索过滤

**状态**: 已完成

**描述**: 支持设备搜索和过滤

**实现逻辑**: 提供搜索输入 → 发送搜索请求 → 显示结果

**相关文件**: apps/frontend/src/app/devices

**验收标准**:
- 支持按设备名称模糊搜索（包含匹配），响应时间 < 300ms
- 支持按IP地址精确搜索和IP段范围搜索
- 支持按状态过滤：全部、在线、离线、未知状态
- 支持多条件组合搜索：名称+状态、IP+状态等
- 搜索结果为空时显示"无匹配设备"提示和清除搜索按钮
- 搜索输入框支持实时搜索，输入延迟300ms后自动触发
- 支持搜索关键字高亮显示，匹配数量实时显示